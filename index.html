<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSE Notice & MOM Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>CSE Notice & MOM Generator</h1>
            <p class="subtitle">Generate professional notices and minutes of meeting for SSIPMT CSE Department</p>
        </header>

        <!-- Landing Mode Selector -->
        <section id="landing" class="landing-section">
            <div class="mode-selector">
                <div class="mode-card">
                    <h2>Create Notice</h2>
                    <p>One-page meeting notice with bold department line, bold+underlined NOTICE, correctly spaced body, and "Copy to" footer.</p>
                    <button class="btn btn-primary" id="btn-notice-mode" aria-label="Switch to Notice Generator">
                        Create Notice
                    </button>
                </div>
                <div class="mode-card">
                    <h2>Create MOM</h2>
                    <p>Minutes of Meeting with structured sections: Agenda, Discussion Points & Decisions (auto-elaborated from key points), and mandatory closing statement.</p>
                    <button class="btn btn-primary" id="btn-mom-mode" aria-label="Switch to MOM Generator">
                        Create MOM
                    </button>
                </div>
            </div>
        </section>

        <!-- Navigation Tabs -->
        <nav id="nav-tabs" class="nav-tabs hidden" role="tablist">
            <button class="tab-btn active" id="tab-notice" role="tab" aria-selected="true" aria-controls="section-notice">
                Notice
            </button>
            <button class="tab-btn" id="tab-mom" role="tab" aria-selected="false" aria-controls="section-mom">
                MOM
            </button>
            <button class="btn-back" id="btn-back-to-landing" aria-label="Back to mode selector">
                ‚Üê Back
            </button>
        </nav>

        <!-- NOTICE GENERATOR -->
        <section id="section-notice" class="generator-section hidden">
            <h2 class="section-title">Notice Generator</h2>
            
            <!-- Step 1: Input -->
            <div class="step-card">
                <h3 class="step-title">Step 1 ‚Äì Input</h3>
                <form id="form-notice" class="input-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="notice-date">Date <span class="required">*</span></label>
                            <input type="text" id="notice-date" name="date" value="08 January 2025" required aria-required="true">
                            <span class="hint">Example: 08 January 2025</span>
                        </div>
                        <div class="form-group">
                            <label for="notice-time">Time <span class="required">*</span></label>
                            <input type="text" id="notice-time" name="time" value="11:00 AM" required aria-required="true">
                            <span class="hint">Example: 11:00 AM</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="notice-venue">Venue <span class="required">*</span></label>
                        <input type="text" id="notice-venue" name="venue" value="HoD (CSE) Room, SSIPMT, Raipur" required aria-required="true">
                    </div>

                    <div class="form-group">
                        <label for="notice-agenda">Agenda / Subject <span class="required">*</span></label>
                        <textarea id="notice-agenda" name="agenda" rows="3" required aria-required="true">Allocation of subjects for even semesters (4th, 6th, and 8th); review of faculty workload; finalization of teaching schedule</textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="notice-font">Font Family</label>
                            <select id="notice-font" name="font">
                                <option value="times" selected>Times New Roman</option>
                                <option value="calibri">Calibri</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="notice-size">Font Size</label>
                            <select id="notice-size" name="size">
                                <option value="12" selected>12 pt</option>
                                <option value="13">13 pt</option>
                                <option value="14">14 pt</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="notice-include-day" name="includeDay">
                            Include day name in body (e.g., "Wednesday, 08 January 2025")
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="notice-extra-blank" name="extraBlank">
                            Add extra blank line before footer
                        </label>
                    </div>

                    <div class="error-message" id="notice-error" role="alert" aria-live="polite"></div>

                    <button type="submit" class="btn btn-primary btn-generate">Generate Notice</button>
                </form>
            </div>

            <!-- Step 2: Output -->
            <div class="step-card hidden" id="notice-output-section">
                <h3 class="step-title">Step 2 ‚Äì Output</h3>
                
                <div class="output-grid">
                    <!-- RTF Output -->
                    <div class="output-card">
                        <h4>RTF (for Word)</h4>
                        <textarea id="notice-rtf-output" class="output-textarea" readonly aria-label="RTF output for Notice"></textarea>
                        <div class="button-group">
                            <button type="button" class="btn btn-secondary" id="btn-copy-notice-rtf">
                                üìã Copy RTF
                            </button>
                            <button type="button" class="btn btn-secondary" id="btn-download-notice-rtf">
                                üíæ Download .rtf
                            </button>
                        </div>
                    </div>

                    <!-- Plain Text Output -->
                    <div class="output-card">
                        <h4>Plain Text</h4>
                        <textarea id="notice-text-output" class="output-textarea" readonly aria-label="Plain text output for Notice"></textarea>
                        <div class="button-group">
                            <button type="button" class="btn btn-secondary" id="btn-copy-notice-text">
                                üìã Copy Text
                            </button>
                            <button type="button" class="btn btn-secondary" id="btn-download-notice-text">
                                üíæ Download .txt
                            </button>
                        </div>
                    </div>
                </div>

                <div class="help-card">
                    <h5>How to paste into Word</h5>
                    <ol>
                        <li>Click <strong>"Copy RTF"</strong> button above</li>
                        <li>Open your Word document</li>
                        <li>Press <kbd>Ctrl + V</kbd> to paste</li>
                        <li>Formatting (bold, underline, centering) will be preserved automatically</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- MOM GENERATOR -->
        <section id="section-mom" class="generator-section hidden">
            <h2 class="section-title">MOM Generator (Minutes of Meeting)</h2>
            
            <!-- Step 1: Input -->
            <div class="step-card">
                <h3 class="step-title">Step 1 ‚Äì Input</h3>
                <form id="form-mom" class="input-form">
                    <div class="form-group">
                        <label for="mom-department">Department</label>
                        <input type="text" id="mom-department" name="department" value="Department of Computer Science & Engineering">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="mom-date">Date <span class="required">*</span></label>
                            <input type="text" id="mom-date" name="date" value="08 January 2025" required aria-required="true">
                        </div>
                        <div class="form-group">
                            <label for="mom-time">Time <span class="required">*</span></label>
                            <input type="text" id="mom-time" name="time" value="11:00 AM" required aria-required="true">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="mom-venue">Venue <span class="required">*</span></label>
                        <input type="text" id="mom-venue" name="venue" value="HoD (CSE) Room, SSIPMT, Raipur" required aria-required="true">
                    </div>



                    <div class="form-group">
                        <label for="mom-agenda">Agenda Items (one per line) <span class="required">*</span></label>
                        <textarea id="mom-agenda" name="agenda" rows="4" required aria-required="true">Review of workload
Finalize teaching schedule
CT-1 planning</textarea>
                    </div>

                    <div class="form-group">
                        <label for="mom-discussion">Key Discussion Points <span class="required">*</span></label>
                        <textarea id="mom-discussion" name="discussion" rows="8" required aria-required="true">- Review of current semester progress
- Faculty workload distribution analysis
- Examination schedule coordination
- Student performance evaluation criteria</textarea>
                        <span class="hint">Enter key points (one per line). These will be professionally elaborated in the output.</span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="mom-font">Font Family</label>
                            <select id="mom-font" name="font">
                                <option value="times" selected>Times New Roman</option>
                                <option value="calibri">Calibri</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="mom-size">Font Size</label>
                            <select id="mom-size" name="size">
                                <option value="12" selected>12 pt</option>
                                <option value="13">13 pt</option>
                                <option value="14">14 pt</option>
                            </select>
                        </div>
                    </div>

                    <div class="error-message" id="mom-error" role="alert" aria-live="polite"></div>

                    <button type="submit" class="btn btn-primary btn-generate">Generate MOM</button>
                </form>
            </div>

            <!-- Step 2: Output -->
            <div class="step-card hidden" id="mom-output-section">
                <h3 class="step-title">Step 2 ‚Äì Output</h3>
                
                <div class="output-grid">
                    <!-- RTF Output -->
                    <div class="output-card">
                        <h4>RTF (for Word with Bold Formatting)</h4>
                        <p style="color: var(--accent-primary); font-size: 0.9rem; margin-bottom: 0.5rem;">‚ú® Copy this to preserve bold formatting!</p>
                        <textarea id="mom-rtf-output" class="output-textarea" readonly aria-label="RTF output for MOM"></textarea>
                        <div class="button-group">
                            <button type="button" class="btn btn-secondary" id="btn-copy-mom-rtf">
                                üìã Copy RTF (with Bold)
                            </button>
                            <button type="button" class="btn btn-secondary" id="btn-download-mom-rtf">
                                üíæ Download .rtf
                            </button>
                        </div>
                    </div>

                    <!-- Plain Text Output -->
                    <div class="output-card">
                        <h4>Plain Text (Unicode Bold)</h4>
                        <textarea id="mom-text-output" class="output-textarea" readonly aria-label="Plain text output for MOM"></textarea>
                        <div class="button-group">
                            <button type="button" class="btn btn-secondary" id="btn-copy-mom-text">
                                üìã Copy Text (Bold)
                            </button>
                            <button type="button" class="btn btn-secondary" id="btn-download-mom-text">
                                üíæ Download .txt
                            </button>
                        </div>
                    </div>
                </div>

                <div class="help-card">
                    <h5>How to paste into Word with Bold Formatting</h5>
                    <ol>
                        <li><strong>Option 1 (Recommended):</strong> Click <strong>"üìã Copy RTF (with Bold)"</strong> button (left side)</li>
                        <li><strong>Option 2:</strong> Click <strong>"üìã Copy Text"</strong> button (right side) - uses Unicode bold characters</li>
                        <li>Open your Word document</li>
                        <li>Press <kbd>Ctrl + V</kbd> to paste</li>
                        <li><strong>Date:, Time:, Venue:, Agenda:, Minutes of Meeting:</strong> will appear <strong>BOLD</strong> ‚ú®</li>
                    </ol>
                </div>
            </div>
        </section>
    </div>

    <!-- AI Settings Modal -->
    <div id="ai-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ü§ñ AI Settings</h2>
                <button class="btn-close" id="btn-close-modal" aria-label="Close AI settings">√ó</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">
                    Enable AI to generate more natural and context-aware Minutes of Meeting. 
                    AI will follow strict formatting rules while elaborating discussion points.
                </p>
                
                <div class="form-group">
                    <label for="ai-provider">AI Provider</label>
                    <select id="ai-provider" class="input-text">
                        <option value="gemini">Google Gemini (FREE - Recommended)</option>
                        <option value="openai">OpenAI GPT (Paid)</option>
                    </select>
                    <small class="help-text">Gemini offers a generous free tier with no credit card required.</small>
                </div>

                <div class="form-group" id="gemini-key-group">
                    <label for="ai-api-key">
                        Google Gemini API Key
                        <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer" class="help-link">(Get Free Key)</a>
                    </label>
                    <input 
                        type="password" 
                        id="ai-api-key" 
                        placeholder="AIza..." 
                        class="input-text"
                    />
                    <small class="help-text">‚úÖ FREE tier: 60 requests/minute, no credit card needed!</small>
                </div>

                <div class="form-group hidden" id="openai-key-group">
                    <label for="ai-api-key-openai">
                        OpenAI API Key
                        <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener noreferrer" class="help-link">(Get Key)</a>
                    </label>
                    <input 
                        type="password" 
                        id="ai-api-key-openai" 
                        placeholder="sk-..." 
                        class="input-text"
                    />
                    <small class="help-text">‚ö†Ô∏è Paid service: ~$0.01 per MOM (requires billing setup)</small>
                </div>

                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="ai-enabled" />
                        Enable AI Generation
                    </label>
                </div>

                <div class="ai-info">
                    <h3>Cost Estimate</h3>
                    <p id="ai-cost-estimate">FREE (Gemini free tier: 60 requests/min)</p>
                    
                    <h3>How it works</h3>
                    <ul>
                        <li><strong>Gemini (FREE)</strong>: Google's AI model with generous free tier</li>
                        <li><strong>OpenAI</strong>: Premium quality, requires billing setup</li>
                        <li>AI follows strict institutional formatting rules</li>
                        <li>Elaborates your bullet points without adding new ideas</li>
                        <li>Uses formal academic language</li>
                        <li>Falls back to rule-based generation if API fails</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="btn-cancel-ai">Cancel</button>
                <button class="btn btn-primary" id="btn-save-ai">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- AI Settings Button (Floating) -->
    <button id="btn-ai-settings" class="btn-floating" aria-label="AI Settings" title="Configure AI">
        ü§ñ
    </button>

    <!-- Scripts -->
    <script src="validators.js?v=2"></script>
    <script src="rtf.js?v=2"></script>
    <script src="templates.js?v=2"></script>
    <script src="ai.js?v=2"></script>
    <script src="app.js?v=2"></script>
</body>
</html>
